/*!
 * PIC18F47Q43 ROM RAM and UART emulation firmware
 * This single source file contains all code
 *
 * Target: EMUZ80 with Z8
 * Compiler: MPLAB XC8 v2.40
 * 
 * Modified by Satoshi Okue https://twitter.com/S_Okue
 * Version 0.1 2022/11/8
 */

/*
 *  PIC18F47Q84 ROM RAM and UART emulation firmware
 *  This single source file contains all code
 * 
 *  Original source Written by Tetsuya Suzuki
 *  https://github.com/vintagechips/emuz80
 *  Target: EMUZ80 - The computer with only Z80 and PIC18F47Q43
 *  Compiler: MPLAB XC8 v2.36  
 *
 *  Modified by  Gazelle https://twitter.com/Gazelle8087
 *  1st release 2022.7.17
 * 
 *  Target: PIC18F47Q84
 *  IDE: MPLAB X v6.0
 *  Compiler: XC8 v2.36
 *
 *  References: source code written by yyhayami
 *  for the CLC configuration and memory mapping/access procedure.
 *  https://github.com/yyhayami/emuz80_hayami/tree/main/emuz80_clc.X 
*/

// CONFIG1
#pragma config FEXTOSC = OFF    // External Oscillator Selection (Oscillator not enabled)
#pragma config RSTOSC = HFINTOSC_64MHZ// Reset Oscillator Selection (HFINTOSC with HFFRQ = 64 MHz and CDIV = 1:1)

// CONFIG2
#pragma config CLKOUTEN = OFF   // Clock out Enable bit (CLKOUT function is disabled)
#pragma config PR1WAY = ON      // PRLOCKED One-Way Set Enable bit (PRLOCKED bit can be cleared and set only once)
#pragma config CSWEN = ON       // Clock Switch Enable bit (Writing to NOSC and NDIV is allowed)
#pragma config FCMEN = ON       // Fail-Safe Clock Monitor Enable bit (Fail-Safe Clock Monitor enabled)
#ifdef _18F47Q83
#pragma config JTAGEN = OFF
#pragma config FCMENP = OFF
#pragma config FCMENS = OFF
#endif

// CONFIG3
#pragma config MCLRE = EXTMCLR  // MCLR Enable bit (If LVP = 0, MCLR pin is MCLR; If LVP = 1, RE3 pin function is MCLR )
#pragma config PWRTS = PWRT_OFF // Power-up timer selection bits (PWRT is disabled)
#pragma config MVECEN = ON      // Multi-vector enable bit (Multi-vector enabled, Vector table used for interrupts)
#pragma config IVT1WAY = ON     // IVTLOCK bit One-way set enable bit (IVTLOCKED bit can be cleared and set only once)
#pragma config LPBOREN = OFF    // Low Power BOR Enable bit (Low-Power BOR disabled)
#pragma config BOREN = SBORDIS  // Brown-out Reset Enable bits (Brown-out Reset enabled , SBOREN bit is ignored)

// CONFIG4
#pragma config BORV = VBOR_1P9  // Brown-out Reset Voltage Selection bits (Brown-out Reset Voltage (VBOR) set to 1.9V)
#pragma config ZCD = OFF        // ZCD Disable bit (ZCD module is disabled. ZCD can be enabled by setting the ZCDSEN bit of ZCDCON)
#pragma config PPS1WAY = OFF    // PPSLOCK bit One-Way Set Enable bit (PPSLOCKED bit can be set and cleared repeatedly (subject to the unlock sequence))
#pragma config STVREN = ON      // Stack Full/Underflow Reset Enable bit (Stack full/underflow will cause Reset)
#pragma config LVP = ON         // Low Voltage Programming Enable bit (Low voltage programming enabled. MCLR/VPP pin function is MCLR. MCLRE configuration bit is ignored)
#pragma config XINST = OFF      // Extended Instruction Set Enable bit (Extended Instruction Set and Indexed Addressing Mode disabled)

// CONFIG5
#pragma config WDTCPS = WDTCPS_31// WDT Period selection bits (Divider ratio 1:65536; software control of WDTPS)
#pragma config WDTE = OFF       // WDT operating mode (WDT Disabled; SWDTEN is ignored)

// CONFIG6
#pragma config WDTCWS = WDTCWS_7// WDT Window Select bits (window always open (100%); software control; keyed access not required)
#pragma config WDTCCS = SC      // WDT input clock selector (Software Control)

// CONFIG7
#pragma config BBSIZE = BBSIZE_512// Boot Block Size selection bits (Boot Block size is 512 words)
#pragma config BBEN = OFF       // Boot Block enable bit (Boot block disabled)
#pragma config SAFEN = OFF      // Storage Area Flash enable bit (SAF disabled)
#ifndef _18F47Q83
#pragma config DEBUG = OFF      // Background Debugger (Background Debugger disabled)  
#endif

// CONFIG8
#pragma config WRTB = OFF       // Boot Block Write Protection bit (Boot Block not Write protected)
#pragma config WRTC = OFF       // Configuration Register Write Protection bit (Configuration registers not Write protected)
#pragma config WRTD = OFF       // Data EEPROM Write Protection bit (Data EEPROM not Write protected)
#pragma config WRTSAF = OFF     // SAF Write protection bit (SAF not Write Protected)
#pragma config WRTAPP = OFF     // Application Block write protection bit (Application Block not write protected)

// CONFIG10
#pragma config CP = OFF         // PFM and Data EEPROM Code Protection bit (PFM and Data EEPROM code protection disabled)

// #pragma config statements should precede project file includes.
// Use project enums instead of #define for ON and OFF.

#include <xc.h>
#include <stdio.h>

//#define Z8_CLK 1843200UL // Z8 clock frequency(Max 16MHz) 2400bps
#define Z8_CLK 2457600UL // Z8 clock frequency(Max 16MHz) 9600bps

#define ROM_SIZE 0x0800 //2K bytes
#define RAM_SIZE 0x1000 //4K bytes
#define ROM_TOP 0x0000 //ROM top address
#define RAM_TOP 0x4000 //RAM top address

#define _XTAL_FREQ 64000000UL

//Z8 ROM equivalent, see end of this file
extern const unsigned char rom[];

//Z8 RAM equivalent
volatile unsigned char ram[RAM_SIZE]; __at(0x1000)

/*
//Address Bus
union {
    unsigned int w; //16 bits Address
    struct {
        unsigned char l; //Address low
        unsigned char h; //Address high
    };
} ab;
//*/

/*
// UART3 Transmit
void putch(char c) {
    while(!U3TXIF); // Wait or Tx interrupt flag set
    U3TXB = c; // Write data
}

// UART3 Recive
char getch(void) {
    while(!U3RXIF); // Wait for Rx interrupt flag set
    return U3RXB; // Read data
}
//*/

// Never called, logically
void __interrupt(irq(default),base(8)) Default_ISR(){}

// Called at /AS falling edge
void __interrupt(irq(CLC1),base(8)) CLC1_ISR(){
    asm("movff  PORTB,TBLPTRL   \n");   // TBLPTRL = PORTB(lower address)
    CLC1IF = 0;                         // Clear the CLC1 interrupt flag
}

// main routine
void main(void) {

    int i;

    // System initialize
    OSCFRQ = 0x08;  // 64MHz internal OSC

    // Address bus A15-A8 pin
    ANSELD = 0x00;  // Disable analog function
    WPUD = 0xff;    // Week pull up
    TRISD = 0xff;   // Set as input

    // Address bus AD7-AD0 pin
    ANSELB = 0x00;  // Disable analog function
    WPUB = 0xff;    // Week pull up
    TRISB = 0xff;   // Set as input

    // Z8 clock(RA3) by NCO FDC mode
    RA3PPS = 0x3f;  // RA3 asign NCO1
    ANSELA3 = 0;    // Disable analog function
    TRISA3 = 0;     // NCO output pin
    NCO1INC = Z8_CLK * 2 / 61;
    NCO1CLK = 0x00; // Clock source Fosc
    NCO1PFM = 0;    // FDC mode
    NCO1OUT = 1;    // NCO output enable
    NCO1EN = 1;     // NCO enable

    // /AS (RA2) input pin
    ANSELA2 = 0;    // Disable analog function
    WPUA2 = 1;      // Week pull up
    TRISA2 = 1;     // Set as input

    // /DS (RA0) input pin
    ANSELA0 = 0;    // Disable analog function
    WPUA0 = 1;      // Week pull up
    TRISA0 = 1;     // Set as input

    // R/W (RA1) input pin
    ANSELA1 = 0;    // Disable analog function
    WPUA1 = 1;      // Week pull up
    TRISA1 = 1;     // Set as input

    // RESET (RE2) output pin
    ANSELE2 = 0;    // Disable analog function
    LATE2 = 0;      // RESET
    TRISE2 = 0;     // Set as output


    // NC (RCx) output pin
    ANSELC = 0;     // Disable analog function
    LATC = 0;
    TRISC = 0;      // Set as input(default)

    // NC (RA5) output pin
    ANSELA5 = 0;    // Disable analog function
    LATA5 = 0;
    TRISA5 = 0;     // Set as output

    // NC (RE0) output pin
    ANSELE0 = 0;    // Disable analog function
    LATE0 = 0;
    TRISE0 = 0;     // Set as output

    // NC (RE1) output pin
    ANSELE1 = 0;    // Disable analog function
    LATE1 = 0;
    TRISE1 = 0;     // Set as output


    // UART3 initialize
    U3BRG = 416; // 9600bps @ 64MHz
    U3RXEN = 1; // Receiver enable
    U3TXEN = 1; // Transmitter enable

    // UART3 Receiver
    ANSELA7 = 0; // Disable analog function
    TRISA7 = 1; // RX set as input
    U3RXPPS = 0x07; //RA7->UART3:RX3;

    // UART3 Transmitter
    ANSELA6 = 0; // Disable analog function
    LATA6 = 1; // Default level
    TRISA6 = 0; // TX set as output
    RA6PPS = 0x26;  //RA6->UART3:TX3;

    U3ON = 1; // Serial port enable

    //========== CLC pin assign ===========    
    CLCIN0PPS = 0x02;	// RA2 <- /AS
    CLCIN2PPS = 0x1f;   // RD7 <- A15
    CLCIN3PPS = 0x1e;   // RD6 <- A14
    CLCIN5PPS = 0x01;   // RA1 <- R/W
    CLCIN6PPS = 0x1d;   // RD5 <- A13
    CLCIN7PPS = 0x1c;   // RD4 <- A12

    //========== CLC1 AS interrupt falling edge ==========
    CLCSELECT = 0;		// select CLC1  

    CLCnSEL0 = 0;       // CLCIN0PPS <- AS
    CLCnSEL1 = 127;     // NC 
    CLCnSEL2 = 127;     // NC
    CLCnSEL3 = 127;     // NC

    CLCnGLS0 = 0x02;    // AS noninverted
    CLCnGLS1 = 0x04;    // 1(0 inverted) for AND gate
    CLCnGLS2 = 0x10;    // 1(0 inverted) for AND gate
    CLCnGLS3 = 0x40;    // 1(0 inverted) for AND gate

    CLCnPOL = 0x00;     // Not inverted
    CLCnCON = 0x8A;     // PNegative Edge / 4 input AND

    //========== CLC2 ROM area 0x0000 - / 0x1000 - ==========
    CLCSELECT = 1;      // CLC2 select

    CLCnSEL0 = 2;       // CLCIN2PPS <- A15
    CLCnSEL1 = 3;       // CLCIN3PPS <- A14
    CLCnSEL2 = 6;       // CLCIN6PPS <- A13
    CLCnSEL3 = 5;       // CLCIN5PPS <- R/W

    CLCnGLS0 = 0x01;    // A15 inverted
    CLCnGLS1 = 0x04;    // A14 inverted
    CLCnGLS2 = 0x10;    // A13 inverted
    CLCnGLS3 = 0x80;    // R/W noninverted

    CLCnPOL = 0x00;     // Not inverted the CLC2 output
    CLCnCON = 0x82;     // 4 input AND

    //========== CLC3 RAM area 0x4000 - 0x4FFF  ==========
    CLCSELECT = 2;      // CLC3 select

    CLCnSEL0 = 2;       // CLCIN2PPS <- A15
    CLCnSEL1 = 3;       // CLCIN3PPS <- A14
    CLCnSEL2 = 6;       // CLCIN6PPS <- A13
    CLCnSEL3 = 7;       // CLCIN7PPS <- A12

    CLCnGLS0 = 0x01;    // A15 inverted
    CLCnGLS1 = 0x08;    // A14 noninverted
    CLCnGLS2 = 0x10;    // A13 inverted
    CLCnGLS3 = 0x40;    // A12 inverted

    CLCnPOL = 0x00;     // Not inverted the CLC2 output
    CLCnCON = 0x82;     // 4 input AND

    //========== CLC4 NMOS ROM area 0xF000 - ==========
    CLCSELECT = 3;      // CLC4 select

    CLCnSEL0 = 2;       // CLCIN2PPS <- A15
    CLCnSEL1 = 3;       // CLCIN3PPS <- A14
    CLCnSEL2 = 6;       // CLCIN6PPS <- A13
    CLCnSEL3 = 7;       // CLCIN7PPS <- A12

    CLCnGLS0 = 0x02;    // A15 noninverted
    CLCnGLS1 = 0x08;    // A14 noninverted
    CLCnGLS2 = 0x20;    // A13 noninverted
    CLCnGLS3 = 0x80;    // A12 noninverted

    CLCnPOL = 0x00;     // Not inverted the CLC2 output
    CLCnCON = 0x82;     // 4 input AND


    // RAM clear
    for(i = 0; i < RAM_SIZE; i++) {
        ram[i] = 0x00;
    }

    // Unlock IVT
    IVTLOCK = 0x55;
    IVTLOCK = 0xAA;
    IVTLOCKbits.IVTLOCKED = 0x00;

    // Default IVT base address
    IVTBASE = 0x000008;

    // Lock IVT
    IVTLOCK = 0x55;
    IVTLOCK = 0xAA;
    IVTLOCKbits.IVTLOCKED = 0x01;

    // CLC VI enable

    CLC1IF = 0; // Clear the CLC1 interrupt flag
    CLC1IE = 1; // Enabling CLC1 interrupt

    __delay_ms(100);

    TBLPTRU = 1;    // TBLTPU 1 fixed ROM allocate 10000h

    // Z8 start
    GIE = 1; // Global interrupt enable
    LATE2 = 1; // Release reset

    while(1) {
        while(RA0){}             // Wait for /DS = Low

        if(CLC2OUT) {           // ROM read
            asm(
            "clrf  TRISB,c          \n"   // Set data bus as output
            "movf  PORTD,w          \n"
            "andlw 0x07             \n"
            "movwf TBLPTRH,c        \n"
            "tblrd *                \n"
            "movff TABLAT,LATB      \n"
            );
        } else if (CLC4OUT) {   // NMOS ROM read 0xF000
            asm(
            "clrf  TRISB,c          \n"   // Set data bus as output
            "clrf  TBLPTRH,c        \n"   // A15-A8 = 0x00
            "tblrd *                \n"
            "movff TABLAT,LATB      \n"
            );
        } else if (CLC3OUT) {   // RAM area
        if(RA1)                 // RAM read cycle
            asm(
            "clrf  TRISB,c          \n"   // Set data bus as output
            "movff TBLPTRL,FSR2L    \n"
            "movf  PORTD,w          \n"
            "andlw 0x0F             \n"   // Address shift
            "iorlw 0x10             \n"   // from 0x4000 to 0x1000
            "movwf FSR2H,c          \n"
            "movff INDF2,LATB       \n"
            );
        else                    // RAM write cycle
            asm(
            "movff TBLPTRL,FSR2L    \n"
            "movf  PORTD,w          \n"
            "andlw 0x0F             \n"   // Address shift
            "iorlw 0x10             \n"   // from 0x4000 to 0x1000
            "movwf FSR2H,c          \n"
            "movff PORTB,INDF2      \n"
            );

        } else if(RA1) {
            TRISB = 0x00;       // Set data bus as output
            LATB =0xff;
        }

	    while(!RA0){}	// /DS
    	TRISB = 0xff;	// Set as input
    }
}

const unsigned char rom[ROM_SIZE] __at(0x10000)= {
// Converted from Z8BAS73.hex
// 0x0000
  0x10, 0x00, 0x10, 0x03, 0x10, 0x06, 0x10, 0x09, 0x10, 0x0c, 0x10, 0x0f, 0x8b, 0x7e, 0xe3, 0x3f,
  0xfe, 0xe3, 0x2f, 0xfe, 0xaf, 0x3c, 0x20, 0xd6, 0x00, 0x61, 0x76, 0x20, 0x07, 0xeb, 0xf6, 0xaf,
  0x06, 0x50, 0x20, 0x08, 0x1b, 0x0d, 0x0a, 0xfe, 0xd6, 0x00, 0x81, 0x3c, 0x05, 0xd6, 0x06, 0x3e,
  0xd6, 0x00, 0x66, 0xd6, 0x06, 0x43, 0xeb, 0xf8, 0xb0, 0x20, 0x00, 0xed, 0x52, 0x35, 0x52, 0x24,
  0xaf, 0xd6, 0x00, 0x47, 0x28, 0xe3, 0x0d, 0xb0, 0xe2, 0x4e, 0x4a, 0x03, 0xe3, 0x35, 0x0d, 0xc2,
  0x34, 0xa0, 0xe4, 0xaf, 0x66, 0xfb, 0x88, 0x2d, 0x10, 0x12, 0x76, 0xfa, 0x08, 0x6b, 0xfb, 0x38,
  0xf0, 0x20, 0x20, 0x56, 0xe3, 0x7f, 0x66, 0xfb, 0x88, 0x2d, 0x10, 0x15, 0x56, 0xfa, 0xe7, 0x39,
  0xf0, 0x76, 0xfa, 0x10, 0x6b, 0xfb, 0xaf, 0xd6, 0x05, 0xfa, 0xa0, 0xe4, 0xd6, 0x00, 0x81, 0x38,
  0xe2, 0x4e, 0x4a, 0x03, 0xf3, 0x53, 0x0d, 0xd2, 0x34, 0x80, 0xe4, 0xaf, 0x31, 0xf0, 0xb0, 0xfb,

  0x8c, 0xb6, 0xfc, 0x68, 0x4c, 0x02, 0x5c, 0x05, 0x7c, 0x41, 0x1c, 0x03, 0xcc, 0x02, 0x31, 0x10,
//  0x8c, 0xb6, 0xfc, 0x68, 0x4c, 0x06, 0x5c, 0x05, 0x7c, 0x41, 0x1c, 0x03, 0xcc, 0x02, 0x31, 0x10,
  0xb0, 0x03, 0xd2, 0x66, 0x8d, 0x00, 0xb5, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
  0xff, 0xff, 0xff, 0xff, 0xff, 0x9f, 0x76, 0x03, 0x01, 0x6b, 0x57, 0x4c, 0x07, 0xd6, 0x05, 0xbf,
  0x7b, 0x17, 0xeb, 0xf9, 0x49, 0x08, 0xd6, 0x05, 0xbf, 0x7b, 0x02, 0x6b, 0xf9, 0x00, 0xe4, 0x49,
  0x0c, 0x49, 0x0a, 0xb0, 0x09, 0xe6, 0x0b, 0x20, 0x0d, 0xb0, 0x0c, 0xcc, 0x00, 0xdc, 0x20, 0x4c,
  0x0f, 0x5c, 0x20, 0xd6, 0x05, 0xbf, 0x6b, 0x0c, 0x2e, 0x2a, 0x09, 0xe4, 0x08, 0x04, 0x59, 0x05,
  0x49, 0x08, 0x59, 0x09, 0x3c, 0x02, 0xd6, 0x06, 0x3e, 0x48, 0x08, 0x58, 0x09, 0x2c, 0xff, 0xd2,
// 0x0100
  0x24, 0xa0, 0xe4, 0xd2, 0x24, 0xc2, 0x24, 0x2e, 0xeb, 0x0a, 0x02, 0x35, 0x12, 0x24, 0x29, 0x04,
  0x39, 0x05, 0xb0, 0xfc, 0x31, 0x00, 0xdc, 0x68, 0xe6, 0xf8, 0xb2, 0xce, 0xca, 0x07, 0xb0, 0xea,
  0xbc, 0x68, 0xe6, 0xf8, 0xb6, 0x68, 0xea, 0x78, 0xeb, 0x31, 0x10, 0xe4, 0x06, 0xfe, 0xe4, 0x07,
  0xff, 0x98, 0xfc, 0x56, 0xe9, 0x02, 0xfc, 0x80, 0xd6, 0x06, 0x3c, 0x88, 0xe3, 0xc2, 0x3c, 0x02,
  0x93, 0x6c, 0xff, 0x7c, 0xff, 0xc2, 0x38, 0xa0, 0xe8, 0x1c, 0x1f, 0xa6, 0xe3, 0x0a, 0x7b, 0x5b,
  0xa6, 0xe3, 0x30, 0x7b, 0x18, 0xa6, 0xe3, 0x40, 0x7b, 0x3f, 0xb0, 0xe0, 0x52, 0x13, 0x6b, 0x04,
  0x02, 0x19, 0x12, 0x08, 0x56, 0xe3, 0xe0, 0xf0, 0xe3, 0x06, 0xe3, 0x04, 0x0d, 0x02, 0x33, 0x06,
  0xe3, 0x5f, 0x2c, 0x05, 0xc2, 0xe2, 0xa0, 0xe2, 0xc2, 0x32, 0x28, 0xee, 0xd4, 0xe2, 0x31, 0x10,
  0x8b, 0xc3, 0x76, 0xfc, 0x02, 0x6b, 0xa2, 0xd6, 0x04, 0xdd, 0x6b, 0x86, 0xd6, 0x06, 0x3c, 0x88,
  0xe3, 0xc2, 0x9c, 0xd6, 0x03, 0x92, 0x6b, 0x6a, 0xaf, 0xc2, 0x18, 0xa0, 0xe8, 0x0c, 0x07, 0x52,
  0x03, 0x26, 0xe0, 0x04, 0x06, 0xe3, 0x08, 0xc0, 0xe3, 0x8b, 0xb5, 0x02, 0x3f, 0xe3, 0x03, 0xe3,
  0x1f, 0xf3, 0x31, 0xf3, 0xf0, 0x8b, 0xc9, 0x50, 0xe2, 0x50, 0xe3, 0x50, 0xe0, 0x50, 0xe1, 0x8b,
  0x0b, 0x50, 0xe2, 0x50, 0xe3, 0x70, 0xe9, 0x70, 0xe8, 0xd6, 0x01, 0xfa, 0xd6, 0x02, 0x55, 0x8b,
  0xaf, 0xd6, 0x00, 0x0e, 0x50, 0xe0, 0x50, 0xe1, 0x70, 0xe3, 0x70, 0xe2, 0xd6, 0x01, 0xfa, 0x8b,
  0x44, 0x48, 0xea, 0x58, 0xeb, 0xc2, 0x28, 0xa0, 0xe8, 0xd6, 0x05, 0xd3, 0x22, 0x23, 0x6b, 0xf5,
  0x12, 0x22, 0x6b, 0x65, 0xa8, 0xe4, 0xb8, 0xe5, 0x8b, 0x57, 0x31, 0x00, 0xce, 0xca, 0x05, 0xa6,
// 0x0200
  0xff, 0x40, 0x8b, 0x08, 0xa4, 0xe4, 0xfe, 0xeb, 0x03, 0xa4, 0xe5, 0xff, 0x31, 0x10, 0x8b, 0x73,
  0x50, 0xe0, 0x50, 0xe1, 0xa4, 0x0a, 0xfe, 0xeb, 0x03, 0xa4, 0x0b, 0xff, 0xfb, 0x67, 0x50, 0xe2,
  0x50, 0xe3, 0xd6, 0x02, 0x6e, 0xe4, 0xfe, 0x06, 0xe4, 0xff, 0x07, 0x8b, 0xa2, 0xd6, 0x00, 0x0e,
  0xd6, 0x02, 0x6e, 0x8b, 0x39, 0x00, 0xef, 0xb1, 0xef, 0xc2, 0x38, 0xa0, 0xe8, 0x8b, 0x33, 0xd6,
  0x05, 0xfa, 0x02, 0x35, 0x12, 0x24, 0x8b, 0x26, 0x26, 0xe1, 0x20, 0x36, 0xe0, 0x00, 0x0d, 0x80,
  0xea, 0x42, 0x00, 0x6b, 0x30, 0x88, 0xe0, 0x98, 0xe1, 0xaf, 0xd6, 0x05, 0xd3, 0xa6, 0xe3, 0x41,
  0x7b, 0xed, 0xa6, 0xe3, 0x5a, 0xbb, 0xe8, 0x02, 0x33, 0x06, 0xe3, 0xa0, 0x28, 0x0c, 0x00, 0xef,
  0xf3, 0xf2, 0x00, 0xef, 0xf3, 0xf3, 0xa6, 0xef, 0x40, 0x3b, 0x0a, 0x44, 0x0c, 0x0c, 0xeb, 0xd9,
  0xa4, 0x0d, 0xef, 0xbb, 0xd4, 0xd6, 0x04, 0xa0, 0xd6, 0x06, 0x3c, 0xc2, 0x2c, 0x22, 0x92, 0x32,
  0x83, 0x38, 0xe9, 0x28, 0xe8, 0xfc, 0x80, 0xd6, 0x04, 0xe9, 0x9c, 0x4a, 0x8c, 0x06, 0xd6, 0x05,
  0x56, 0x76, 0xfc, 0x02, 0x6b, 0x0a, 0xd6, 0x05, 0x56, 0x38, 0x17, 0x28, 0x16, 0xd6, 0x04, 0xe9,
  0xd6, 0x00, 0x2b, 0xb0, 0xfc, 0x8d, 0x01, 0x29, 0xd6, 0x05, 0xd3, 0x6b, 0x4d, 0x8b, 0x90, 0xd6,
  0x05, 0xd3, 0x9b, 0x8b, 0x56, 0xe3, 0x0f, 0xd6, 0x06, 0x38, 0xd6, 0x05, 0xd3, 0x9b, 0x3b, 0x1c,
  0x0a, 0xd6, 0x03, 0x14, 0x8b, 0xf4, 0xd6, 0x00, 0x0e, 0xb0, 0xe0, 0xb0, 0xe1, 0xec, 0x11, 0x22,
  0x13, 0x32, 0x02, 0xfb, 0x04, 0x02, 0x13, 0x12, 0x02, 0xef, 0x11, 0xef, 0xfe, 0x11, 0xef, 0x00,
  0xef, 0x10, 0xe1, 0x10, 0xe0, 0xea, 0xe8, 0xaf, 0xd6, 0x06, 0x36, 0xd6, 0x05, 0xd3, 0x1b, 0x0d,
// 0x0300
  0xa6, 0xe3, 0x41, 0x7b, 0x05, 0x26, 0xe3, 0x47, 0x7b, 0x03, 0x80, 0xea, 0xaf, 0x1c, 0x10, 0xd6,
  0x03, 0x14, 0x8b, 0xe7, 0xb0, 0xe0, 0x56, 0xe3, 0x0f, 0x8b, 0x08, 0xe3, 0x1f, 0xfe, 0xe3, 0x0f,
  0xfe, 0xb0, 0xe3, 0xb0, 0xe2, 0xec, 0x11, 0xcf, 0xfe, 0xc1, 0xef, 0x00, 0xef, 0xc1, 0xef, 0xfb,
  0x04, 0x02, 0x31, 0x12, 0x20, 0xc0, 0xe2, 0xc0, 0xe3, 0xea, 0xed, 0xaf, 0xd6, 0x00, 0x61, 0xdf,
  0xd6, 0x05, 0xd4, 0x6b, 0xc5, 0xa6, 0xe3, 0x22, 0x6b, 0x2a, 0x8b, 0xf0, 0xd6, 0x05, 0xfd, 0xa8,
  0x08, 0xb8, 0x09, 0x08, 0xe6, 0x18, 0xe7, 0xd6, 0x04, 0xcf, 0x8b, 0x03, 0xd6, 0x04, 0xdd, 0xa2,
  0x46, 0xeb, 0x02, 0xa2, 0x57, 0xbb, 0xf5, 0x6b, 0x0d, 0xc2, 0xe8, 0xa6, 0xee, 0x28, 0x6b, 0x06,
  0x78, 0xe1, 0x68, 0xe0, 0xa0, 0xe8, 0xaf, 0x38, 0x0e, 0x0d, 0x38, 0xea, 0xa4, 0x0c, 0xe3, 0xeb,
  0x05, 0xa9, 0x0e, 0xb9, 0x0f, 0xaf, 0x28, 0x0e, 0x38, 0x0f, 0xd6, 0x03, 0x81, 0xa8, 0xe2, 0xb8,
  0xe3, 0xaf, 0x66, 0xfb, 0x88, 0x2b, 0x0c, 0x3c, 0x04, 0xd6, 0x06, 0x3e, 0xb4, 0xf0, 0xe3, 0x02,
  0x33, 0x6b, 0xd3, 0x38, 0xfc, 0x46, 0xe3, 0xfe, 0x3e, 0xeb, 0xc9, 0xaf, 0xd6, 0x00, 0x49, 0xee,
  0x3e, 0x3a, 0xf9, 0xaf, 0x48, 0x0e, 0x58, 0x0f, 0xb0, 0xee, 0xd6, 0x03, 0xac, 0xd6, 0x00, 0x0e,
  0x58, 0xeb, 0x48, 0xea, 0x80, 0xea, 0x80, 0xea, 0xdf, 0x32, 0x73, 0x32, 0x62, 0x78, 0xe3, 0xfb,
  0x3b, 0xea, 0x04, 0xec, 0xfd, 0x2c, 0xff, 0xee, 0x60, 0xee, 0xd6, 0x03, 0xac, 0x60, 0xee, 0x6b,
  0x54, 0xdb, 0x2f, 0x58, 0xeb, 0x48, 0xea, 0x08, 0xe4, 0x18, 0xe5, 0x22, 0x5e, 0x36, 0xe4, 0xff,
  0xd6, 0x00, 0x4f, 0xd2, 0x30, 0xa0, 0xe0, 0xa4, 0x04, 0x14, 0x7b, 0xf4, 0xa4, 0x05, 0x15, 0x7b,
 // 0x0400
  0xef, 0x09, 0x04, 0x19, 0x05, 0x2e, 0x6b, 0x41, 0x00, 0xe2, 0x8b, 0x29, 0xea, 0x01, 0xaf, 0xee,
  0xee, 0xee, 0x58, 0x05, 0x48, 0x04, 0x18, 0xe5, 0x08, 0xe4, 0x02, 0x5e, 0x16, 0xe4, 0x00, 0xd6,
  0x02, 0x04, 0x49, 0x04, 0x59, 0x05, 0xc2, 0x30, 0x80, 0xe0, 0xd6, 0x00, 0x87, 0xa2, 0x4a, 0xbb,
  0xf5, 0xa2, 0x5b, 0xbb, 0xf1, 0xd2, 0x2a, 0xa0, 0xea, 0xd2, 0x7a, 0x48, 0x0e, 0x58, 0x0f, 0xa0,
  0xea, 0xd6, 0x00, 0x49, 0xd2, 0x3a, 0x3e, 0x3a, 0xf6, 0xaf, 0x00, 0xef, 0xe6, 0x0d, 0x67, 0xa8,
  0x0c, 0xbc, 0x68, 0x20, 0x0d, 0xd6, 0x00, 0x54, 0x28, 0xe3, 0x3c, 0x03, 0xd6, 0x06, 0x3e, 0xa2,
  0x32, 0x6b, 0x36, 0xc2, 0x3c, 0xa2, 0x32, 0x6b, 0x37, 0x42, 0x22, 0x6b, 0xe8, 0xa6, 0xe2, 0x7f,
  0x6b, 0xe3, 0xa6, 0xe2, 0x0a, 0x6b, 0xde, 0x58, 0x0d, 0x48, 0x0c, 0x3c, 0x0d, 0xb2, 0x32, 0x6d,
  0x00, 0x27, 0xd6, 0x00, 0x7f, 0xa6, 0x0d, 0xe7, 0xbb, 0x08, 0x4e, 0x4a, 0xc6, 0xa4, 0x0d, 0xef,
  0xbb, 0xc1, 0x3c, 0x07, 0xd6, 0x00, 0x66, 0x8b, 0xbc, 0x00, 0x0d, 0xa4, 0x0d, 0xeb, 0x3b, 0xb5,
  0xe6, 0x0d, 0x68, 0x2c, 0x0d, 0x8b, 0xd0, 0xd6, 0x00, 0x0e, 0xe3, 0xef, 0xfe, 0x23, 0x3f, 0xfe,
  0x33, 0x2f, 0x1b, 0x0a, 0xab, 0x04, 0x42, 0x32, 0x6b, 0x02, 0xe0, 0xee, 0xe0, 0xee, 0xe0, 0xee,
  0xfb, 0x02, 0xa0, 0xe8, 0xe3, 0x3f, 0xfe, 0xaf, 0xe6, 0xfc, 0x02, 0x80, 0xea, 0x80, 0xea, 0xc2,
  0x6a, 0xa0, 0xea, 0xc2, 0x7a, 0xa0, 0xea, 0xe8, 0xe6, 0x52, 0xe7, 0xee, 0xaf, 0xc2, 0x3a, 0xa0,
  0xea, 0x3e, 0x3a, 0xf9, 0x8b, 0xe9, 0xd6, 0x00, 0x0e, 0xec, 0x10, 0xb0, 0xe1, 0xb0, 0xe0, 0x12,
  0x33, 0x12, 0x22, 0x12, 0x11, 0x40, 0xe1, 0x12, 0x00, 0x40, 0xe0, 0xea, 0xf2, 0x00, 0xef, 0xf3,
// 0x0500
  0xf0, 0x00, 0xef, 0xf3, 0xf1, 0x12, 0x33, 0x6b, 0x08, 0xd6, 0x05, 0x44, 0x3c, 0xee, 0xfe, 0x8b,
  0x17, 0x3c, 0xee, 0xfe, 0x2c, 0xf0, 0x53, 0x2f, 0xeb, 0x0e, 0x06, 0xe3, 0x06, 0x6b, 0x09, 0x43,
  0x2f, 0xeb, 0x05, 0x06, 0xe3, 0x06, 0xfa, 0xec, 0x06, 0xe3, 0x41, 0x2c, 0x05, 0x30, 0xe2, 0xff,
  0xe3, 0x3f, 0xd6, 0x05, 0x45, 0xe3, 0x3f, 0xd6, 0x05, 0x44, 0x00, 0xef, 0xe3, 0x3f, 0xd6, 0x05,
  0x45, 0xd6, 0x00, 0x0e, 0x0d, 0xf0, 0xe3, 0x56, 0xe3, 0x0f, 0x2c, 0x09, 0xa2, 0x23, 0x16, 0xe3,
  0x30, 0x40, 0xe3, 0x8d, 0x00, 0x61, 0xc2, 0x38, 0xd6, 0x00, 0x61, 0xc2, 0x38, 0xa0, 0xe8, 0x3e,
  0xdb, 0xf4, 0xaf, 0x01, 0xc1, 0x02, 0x55, 0x02, 0x48, 0x02, 0x51, 0x01, 0xe1, 0x02, 0x5a, 0x02,
  0xbf, 0x02, 0xb8, 0x03, 0x92, 0x02, 0x39, 0x02, 0x35, 0x02, 0x2d, 0x00, 0x0e, 0x06, 0x13, 0x03,
  0x7a, 0x03, 0x77, 0x06, 0x27, 0x00, 0x77, 0x01, 0xd1, 0x02, 0x10, 0x03, 0x4c, 0x06, 0x1c, 0x02,
  0x3f, 0x10, 0x18, 0x03, 0x1b, 0x02, 0xd6, 0x04, 0xa7, 0x01, 0x82, 0x10, 0x1b, 0x10, 0x1e, 0x04,
  0xe6, 0x03, 0x3f, 0x00, 0x15, 0x00, 0x2b, 0x05, 0x56, 0x05, 0x11, 0x02, 0xf8, 0x04, 0x4a, 0x06,
  0x2f, 0x04, 0xdd, 0x03, 0xb4, 0x00, 0xf4, 0x04, 0xc8, 0x01, 0x12, 0x06, 0x04, 0x01, 0xb7, 0xdf,
  0x4e, 0x6b, 0x0f, 0xc2, 0x34, 0x60, 0xe3, 0xd2, 0x34, 0x60, 0xe3, 0xc2, 0x24, 0xd2, 0x34, 0x12,
  0x32, 0xcf, 0xaf, 0xcf, 0xae, 0xaa, 0x03, 0xe3, 0x3b, 0x0d, 0xc2, 0x3a, 0xa0, 0xea, 0x7b, 0x17,
  0xa6, 0xe3, 0x20, 0x6b, 0xee, 0xa6, 0xe3, 0x60, 0x7b, 0x03, 0x26, 0xe3, 0x20, 0xa6, 0xe3, 0x30,
  0x1b, 0x05, 0xa6, 0xe3, 0x3a, 0x1b, 0x02, 0x42, 0x33, 0xaf, 0xd6, 0x00, 0x0e, 0xe3, 0x5f, 0xfe,
// 0x0600
  0xe3, 0x4f, 0xfe, 0xaf, 0xd6, 0x05, 0xfa, 0xe3, 0x1f, 0xfe, 0xe3, 0x0f, 0xfe, 0xd4, 0xe0, 0x31,
  0x10, 0x8b, 0x20, 0xd6, 0x06, 0x1c, 0x42, 0x22, 0xdb, 0x02, 0xa0, 0xe8, 0xd6, 0x00, 0x0e, 0x60,
  0xe2, 0x60, 0xe3, 0xa0, 0xe2, 0x8b, 0x0c, 0xd6, 0x05, 0xfd, 0xd6, 0x00, 0x41, 0x8b, 0x04, 0x28,
  0xe6, 0x38, 0xe7, 0x8d, 0x02, 0x6e, 0xb0, 0xe3, 0xb0, 0xe2, 0x8b, 0xf7, 0xb0, 0xe3, 0x56, 0xed,
  0xf0, 0x42, 0xd3, 0xc2, 0x3c, 0xde, 0xa6, 0xe3, 0xfe, 0xaf, 0x21, 0x87, 0x20, 0x41, 0x54, 0xa0,
  0x62, 0x7a, 0x6f, 0x24, 0xba, 0x27, 0xe1, 0x5b, 0xd3, 0x0f, 0x60, 0x10, 0x0d, 0x16, 0x28, 0x0e,
  0x2a, 0x51, 0x10, 0x11, 0x0c, 0x00, 0x16, 0x28, 0x0f, 0x60, 0x0e, 0x2c, 0x8f, 0x47, 0xcf, 0x9b,
  0x54, 0xcf, 0x35, 0x1c, 0xe0, 0x10, 0x11, 0x0f, 0x60, 0x16, 0x50, 0x60, 0x9d, 0x49, 0xc6, 0x34,
  0xe8, 0x84, 0x54, 0x48, 0x45, 0xce, 0x1c, 0x1d, 0xc1, 0x4a, 0x41, 0x89, 0x53, 0x55, 0xc2, 0x34,
  0xff, 0xe0, 0x28, 0x14, 0x54, 0x80, 0xc0, 0x34, 0xf0, 0x7a, 0x9b, 0x4c, 0x45, 0xd4, 0xa6, 0x80,
  0xbd, 0x34, 0xed, 0x13, 0x71, 0x84, 0xde, 0x35, 0x25, 0x55, 0x9a, 0xc0, 0x0c, 0x81, 0x35, 0x1e,
  0x80, 0xbd, 0x34, 0xdc, 0x2e, 0x0e, 0xe1, 0x1d, 0x83, 0xba, 0x3b, 0xb0, 0x82, 0xa2, 0x7b, 0x9d,
  0x50, 0x52, 0x49, 0x4e, 0xd4, 0x83, 0xba, 0x23, 0x51, 0xee, 0x68, 0x83, 0xbb, 0xe7, 0x1d, 0x83,
  0xac, 0x22, 0x5a, 0x23, 0x41, 0x82, 0xba, 0x42, 0x85, 0xa2, 0x21, 0x60, 0x4e, 0x74, 0x88, 0x48,
  0x45, 0x58, 0xa8, 0x35, 0x16, 0x25, 0x44, 0x34, 0xa7, 0x17, 0x0f, 0x63, 0x24, 0xad, 0x61, 0x17,
  0x20, 0x54, 0x8c, 0x52, 0x45, 0xd4, 0x83, 0x55, 0x52, 0xce, 0xe0, 0x15, 0x16, 0x1d, 0x60, 0x86,
// 0x0700
  0x53, 0x54, 0x4f, 0xd0, 0xe0, 0x2d, 0x85, 0x52, 0x55, 0xce, 0x3b, 0x56, 0x85, 0x4e, 0x45, 0xd7,
  0xe0, 0x2b, 0x84, 0x52, 0x45, 0xcd, 0x1d, 0x9d, 0x49, 0xce, 0x86, 0x50, 0x55, 0xd4, 0xa0, 0x10,
  0x63, 0xa0, 0x10, 0xe6, 0x24, 0x3f, 0xa0, 0x27, 0xe1, 0x5a, 0x81, 0xac, 0x34, 0x62, 0x13, 0x11,
  0x82, 0xac, 0x4e, 0x3b, 0x81, 0x8c, 0x4c, 0x49, 0x53, 0xd4, 0x28, 0xe8, 0x0c, 0xff, 0x17, 0x0c,
  0x7f, 0x67, 0x3b, 0x5a, 0x34, 0x46, 0xe0, 0x03, 0x01, 0x03, 0x02, 0x16, 0x28, 0x0e, 0x23, 0x0a,
  0x74, 0x0d, 0x0b, 0x03, 0x28, 0x1c, 0x6e, 0x28, 0x0f, 0x6a, 0x20, 0x24, 0xa0, 0x21, 0x63, 0x24,
  0xa2, 0x5b, 0x29, 0x4a, 0x0e, 0x0e, 0x16, 0x1d, 0x1d, 0x34, 0x25, 0x8e, 0xbc, 0x84, 0xbd, 0x0b,
  0x06, 0x76, 0x84, 0xbe, 0x0b, 0x05, 0x71, 0x0b, 0x04, 0x6e, 0x89, 0xbe, 0x84, 0xbd, 0x0b, 0x03,
  0x67, 0x0b, 0x01, 0x64, 0x80, 0xbd, 0x0b, 0x02, 0x67, 0x34, 0x01, 0x62, 0x34, 0x02, 0x97, 0xac,
  0x85, 0xad, 0x34, 0x14, 0x17, 0x64, 0x81, 0xab, 0x34, 0x0e, 0x85, 0xab, 0x34, 0x0a, 0x18, 0x5a,
  0x86, 0xad, 0x34, 0x04, 0x17, 0x58, 0x0d, 0x2f, 0x34, 0x24, 0x85, 0xaa, 0x34, 0x20, 0x1a, 0x5a,
  0x92, 0xaf, 0x17, 0x0f, 0x67, 0x34, 0x17, 0x0f, 0x71, 0x1b, 0x17, 0x4e, 0x17, 0x34, 0x0f, 0x0f,
  0x65, 0x1b, 0x47, 0x94, 0xdc, 0x57, 0x17, 0x0f, 0x63, 0x4f, 0x17, 0x0f, 0x60, 0x53, 0x8a, 0x55,
  0x53, 0x52, 0xa8, 0x33, 0xb4, 0x80, 0xa9, 0x2e, 0x2f, 0x89, 0x41, 0x4e, 0x44, 0xa8, 0x0c, 0x3c,
  0x33, 0xaa, 0x52, 0x87, 0xc0, 0x0c, 0x47, 0x33, 0xe5, 0x0d, 0x4c, 0x84, 0xde, 0x33, 0xdf, 0x61,
  0xa2, 0x12, 0x2f, 0x83, 0xa5, 0x26, 0x2f, 0xc1, 0x2f, 0x80, 0xa8, 0x33, 0x93, 0x80, 0xa9, 0x2f
};
